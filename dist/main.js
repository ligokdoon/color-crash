!function(t){var e={};function i(s){if(e[s])return e[s].exports;var a=e[s]={i:s,l:!1,exports:{}};return t[s].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(s,a,function(e){return t[e]}.bind(null,a));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=1)}([function(t,e,i){},function(t,e,i){"use strict";i.r(e);i(0);function s(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var a=function(){function t(e,i,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=i,this.ctx=i.getContext("2d"),this.scrollSpeed=e,this.scrollPos=0,this.backGround=s,this.drawBackground=this.drawBackground.bind(this)}var e,i,a;return e=t,(i=[{key:"drawBackground",value:function(){this.scrollPos>=this.canvas.width&&(this.scrollPos=0),this.scrollPos+=this.scrollSpeed,this.ctx.drawImage(this.backGround,-this.scrollPos,0,this.canvas.width,this.canvas.height),this.ctx.drawImage(this.backGround,this.canvas.width-this.scrollPos,0,this.canvas.width,this.canvas.height)}},{key:"animate",value:function(){this.drawBackground()}}])&&s(e.prototype,i),a&&s(e,a),t}();function o(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var n=function(){function t(e,i,s,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=e,this.ctx=e.getContext("2d"),this.ctx.font="normal 25px bold Arial",this.ctx.fontstyle="normal",this.angle=s*(Math.PI/180),this.x=.05*this.canvas.width,this.y=this.canvas.height-20,this.color="grey",this.power=i,this.vx=Math.cos(this.angle)*(this.power/20),this.vy=Math.sin(this.angle)*(this.power/2),this.scrollSpeed=Math.floor(7*this.vx),this.distance=0,this.playTime=0,this.drawBall=this.drawBall.bind(this),this.move=this.move.bind(this),this.boost=this.boost.bind(this),this.boostIcon=a,this.numBoosts=3,this.time=Date.now(),this.newRecord=!1,this.bounceSF=document.getElementById("bounceSF"),this.bounceSF.volume=.2,this.boostSF=document.getElementById("boostSF"),this.boostSF.volume=.2}var e,i,s;return e=t,(i=[{key:"boost",value:function(){this.y>0&&this.numBoosts>0&&this.scrollSpeed>0&&(this.boostSF.play(),this.vy*=-1.25,this.vx*=1.15,this.scrollSpeed=Math.floor(7*this.vx),this.numBoosts-=1)}},{key:"timeElapsed",value:function(){var t,e=Math.floor(Date.now()-this.time)/1e3,i=Math.floor(e/60);return i>=1?(t="Time Elapsed: 0".concat(i,":").concat(e%60>10?"".concat(e%60):"0".concat(e%60)).slice(0,22),this.playTime=t):e>1?(t="Time Elapsed: 00:".concat(e%60>10?"".concat(e):"0".concat(e)).slice(0,22),this.playTime=t):(t="Time Elapsed: 00:00:".concat(e).slice(0,22),this.playTime=t),t}},{key:"magnitude",value:function(){var t;if(0==this.scrollSpeed)return"0";var e=20*this.vx,i=2*this.vy;return(t="".concat(Math.sqrt(Math.pow(e,2)+Math.pow(i,2))))<100?t.slice(0,5):t.slice(0,6)}},{key:"offScreenHeight",value:function(){return this.y<0?"Height: ".concat(640-Math.floor(this.y/2)," ft"):""}},{key:"distanceTraveled",value:function(){this.distance+=this.vx/3}},{key:"drawBall",value:function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.beginPath(),this.ctx.arc(this.x,this.y,20,0,2*Math.PI,!1),this.ctx.lineTo(this.x,this.y),this.ctx.stroke(),this.ctx.fillStyle=this.color,this.ctx.fill(),this.ctx.strokeText("Boosts:",20,50),3===this.numBoosts?(this.ctx.drawImage(this.boostIcon,110,25),this.ctx.drawImage(this.boostIcon,160,25),this.ctx.drawImage(this.boostIcon,210,25)):2===this.numBoosts?(this.ctx.drawImage(this.boostIcon,110,25),this.ctx.drawImage(this.boostIcon,160,25)):1===this.numBoosts&&this.ctx.drawImage(this.boostIcon,110,25),this.ctx.strokeText("".concat(this.offScreenHeight()),350,50),this.newRecord?(this.ctx.strokeStyle="red",this.ctx.strokeText("NEW RECORD",925,50),this.ctx.strokeText("Distance: ".concat(Math.floor(this.distance)," ft"),1100,50),this.ctx.strokeStyle="black"):this.ctx.strokeText("Distance: ".concat(Math.floor(this.distance)," ft"),1100,50),this.ctx.strokeText("".concat(this.timeElapsed()),1100,100),this.ctx.strokeText("Velocity: ".concat(this.magnitude()," ft/s"),1100,150),this.ctx.closePath()}},{key:"move",value:function(){this.vy+=.1,this.distanceTraveled(),this.y+20+this.vy>=this.canvas.height&&(this.vy*=-.88,this.vx*=.95,this.scrollSpeed=Math.floor(7*this.vx),Math.abs(this.vy)>1&&this.bounceSF.play()),this.vx<.05&&this.vy<.2&&this.vy>-.2&&(this.vy=0,this.vx-=.075,this.y=this.canvas.height-20-2,this.scrollSpeed=0,this.numBoosts=0),this.vx<4&&this.vx>=1&&this.y<1200?this.x+=this.vx/20:this.vx<1&&this.vx>=.1&&this.y<1200?this.x+=this.vx/10:this.vx<.1&&this.vx>.01&&this.y<1200?this.x+=this.vx:this.x+=this.vx/40,this.y+=this.vy,this.drawBall()}},{key:"animate",value:function(){this.move()}}])&&o(e.prototype,i),s&&o(e,s),t}();function h(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=e,this.ctx=e.getContext("2d"),this.ctx.font="20px sans-serif",this.power=0,this.dpower=10,this.x=250,this.y=450,this.angle=271,this.angleDir=1,this.angleAnimation=void 0,this.powerAnimation=void 0,this.launchAngle=void 0,this.launchPower=void 0,this.angleMove=this.angleMove.bind(this),this.powerMove=this.powerMove.bind(this),this.handleClick=this.handleClick.bind(this)}var e,i,s;return e=t,(i=[{key:"drawPower",value:function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.beginPath(),this.ctx.strokeStyle="red",this.ctx.strokeText("Click to select launch power",400,350),this.ctx.strokeStyle="black",this.ctx.moveTo(this.x,this.y),this.ctx.moveTo(this.x,this.y),this.ctx.lineTo(this.x,this.y-this.power),this.ctx.stroke(),this.ctx.moveTo(this.x,this.y),this.ctx.lineTo(this.x+this.power,this.y),this.ctx.stroke(),this.ctx.arc(this.x,this.y,this.power,0,1.5*Math.PI,!0),this.ctx.lineTo(this.x,this.y),this.ctx.stroke(),this.ctx.fillStyle="orange",this.ctx.fill(),this.ctx.lineTo(this.x+100*Math.cos(this.angle*(Math.PI/180)),this.y+100*Math.sin(this.angle*(Math.PI/180))),this.ctx.stroke(),this.ctx.strokeText("".concat(-(this.angle-360),"° ").concat(this.power," Power"),this.x+100*Math.cos(this.angle*(Math.PI/180))+10,this.y+100*Math.sin(this.angle*(Math.PI/180))-10),this.ctx.strokeText("".concat(this.power),this.x+1e3,this.y+1e3),this.ctx.closePath()}},{key:"powerMove",value:function(){(this.power+this.dpower<0||this.power+this.dpower>100)&&(this.dpower=-this.dpower),this.power+=this.dpower,this.drawPower()}},{key:"drawAngle",value:function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.beginPath(),this.ctx.strokeStyle="red",this.ctx.strokeText("Click to select launch angle",400,350),this.ctx.strokeStyle="black",this.ctx.moveTo(this.x,this.y),this.ctx.lineTo(this.x,this.y-100),this.ctx.stroke(),this.ctx.moveTo(this.x,this.y),this.ctx.lineTo(this.x+100,this.y),this.ctx.stroke(),this.ctx.moveTo(this.x,this.y),this.ctx.lineTo(this.x+100*Math.cos(this.angle*(Math.PI/180)),this.y+100*Math.sin(this.angle*(Math.PI/180))),this.ctx.stroke(),this.ctx.strokeText("".concat(-(this.angle-360),"°"),this.x+100*Math.cos(this.angle*(Math.PI/180))+10,this.y+100*Math.sin(this.angle*(Math.PI/180))-10),this.ctx.closePath()}},{key:"angleMove",value:function(){this.drawAngle(),359===this.angle?this.angleDir=-1:271===this.angle&&(this.angleDir=1),this.angle+=this.angleDir}},{key:"handleClick",value:function(){this.launchAngle?(clearInterval(this.powerAnimation),this.launchPower=this.power,this.canvas.removeEventListener("click",this.handleClick)):(clearInterval(this.angleAnimation),this.launchAngle=this.angle,this.powerAnimation=setInterval(this.powerMove,50))}},{key:"animate",value:function(){this.angleAnimation=setInterval(this.angleMove,20),this.canvas.addEventListener("click",this.handleClick)}}])&&h(e.prototype,i),s&&h(e,s),t}();function c(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var r=["red","yellow","green","blue","orange","pink","purple"],d=function(){function t(e,i,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=i,this.ctx=i.getContext("2d"),this.scrollSpeed=e,this.startX=s,this.x=s,this.color=r[Math.floor(Math.random()*r.length)],this.collided=!1,this.drawBlock=this.drawBlock.bind(this)}var e,i,s;return e=t,(i=[{key:"drawBlock",value:function(t){this.x<=-60&&(this.color=r[Math.floor(Math.random()*r.length)],this.x=t+60+500,this.collided=!1),this.ctx.beginPath(),this.ctx.fillStyle=this.color,this.ctx.fillRect(this.x,560,60,80),this.ctx.stroke(),this.ctx.closePath(),this.x-=this.scrollSpeed}}])&&c(e.prototype,i),s&&c(e,s),t}();function u(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var g=function(){function t(e,i,s,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.bgcanvas=e,this.bgctx=e.getContext("2d"),this.gamecanvas=i,this.gamectx=i.getContext("2d"),this.bgImage=s,this.boostIcon=a,this.launcher=void 0,this.ball=void 0,this.map=void 0,this.blocks=[],this.animating=!1,this.negateNextBlock=!1,this.newRecord=!1,this.highScore=0,this.bgMusic=document.getElementById("bgm"),this.greenBlockSF=document.getElementById("greenSF"),this.greenBlockSF.volume=.2,this.blockBoostSF=document.getElementById("blockBoostSF"),this.blockBoostSF.volume=.5,this.slowSF=document.getElementById("slowSF"),this.slowSF.volume=.5,this.negateSF=document.getElementById("negateSF"),this.negateSF.volume=.3,this.titleLetters=document.getElementsByClassName("title-letter"),this.start=this.start.bind(this),this.launch=this.launch.bind(this),this.animate=this.animate.bind(this),this.titleColor=this.titleColor.bind(this)}var e,i,s;return e=t,(i=[{key:"start",value:function(){this.gamectx.font="normal 10px bold Arial",this.gamecanvas.removeEventListener("click",this.start),this.gamectx.clearRect(0,0,this.gamecanvas.width,this.gamecanvas.height),this.bgctx.drawImage(this.bgImage,0,0,this.bgcanvas.width,this.bgcanvas.height),this.newRecord=!1,this.launcher=new l(this.gamecanvas),this.launcher.animate(),this.gamecanvas.addEventListener("click",this.launch)}},{key:"launch",value:function(){this.launcher.launchAngle&&this.launcher.launchPower>=0&&(this.gamecanvas.removeEventListener("click",this.launch),this.bgctx.clearRect(0,0,this.bgcanvas.width,this.bgcanvas.height),this.ball=new n(this.gamecanvas,this.launcher.launchPower,this.launcher.launchAngle,this.boostIcon),this.map=new a(this.ball.scrollSpeed,this.bgcanvas,this.bgImage),this.blocks[0]=new d(this.ball.scrollSpeed,this.gamecanvas,500),this.blocks[1]=new d(this.ball.scrollSpeed,this.gamecanvas,1e3),this.blocks[2]=new d(this.ball.scrollSpeed,this.gamecanvas,1500),this.bgMusic.volume=.1,this.bgMusic.play(),this.animating=!0,this.gamecanvas.addEventListener("click",this.ball.boost),this.animate())}},{key:"titleColor",value:function(){for(var t=0;t<this.titleLetters.length;t++)this.titleLetters[t].style.backgroundColor=this.ball.color,"yellow"===this.ball.color?this.titleLetters[t].style.color="grey":this.titleLetters[t].style.color="white"}},{key:"animate",value:function(){var t=this;this.map.animate(),this.ball.animate(),this.blocks[0].drawBlock(this.blocks[2].x),this.blocks[1].drawBlock(this.blocks[0].x),this.blocks[2].drawBlock(this.blocks[1].x),this.titleColor(),this.map.scrollSpeed=this.ball.scrollSpeed,this.blocks.forEach((function(e){return e.scrollSpeed=t.ball.scrollSpeed})),this.ball.y>=550&&this.blocks.forEach((function(e){t.ball.x-e.x<=50&&t.ball.x>=e.x+20&&t.ball.x<=e.x+80&&("green"===e.color?(t.negateNextBlock||e.collided?t.negateNextBlock&&(t.ball.color="grey",t.negateSF.currentTime=0,t.negateSF.play()):(t.ball.vy=0,t.ball.vx=0,t.ball.scrollSpeed=0,t.ball.numBoosts=0,t.greenBlockSF.play()),t.negateNextBlock=!1,e.collided=!0):"red"===e.color?(t.negateNextBlock||e.collided?t.negateNextBlock&&(t.ball.color="grey",t.negateSF.currentTime=0,t.negateSF.play()):(t.blockBoostSF.currentTime=0,t.blockBoostSF.play(),t.ball.vx*=1.05,t.ball.vy*=1.25,t.ball.color="red"),t.negateNextBlock=!1,e.collided=!0):"yellow"===e.color?(t.negateNextBlock||e.collided?t.negateNextBlock&&(t.ball.color="grey",t.negateSF.currentTime=0,t.negateSF.play()):(t.blockBoostSF.currentTime=0,t.blockBoostSF.play(),t.ball.vx*=1.1,t.ball.vy*=1.2,t.ball.color="yellow"),t.negateNextBlock=!1,e.collided=!0):"blue"===e.color?(t.negateNextBlock||e.collided?t.negateNextBlock&&(t.ball.color="grey",t.negateSF.currentTime=0,t.negateSF.play()):(t.blockBoostSF.currentTime=0,t.blockBoostSF.play(),t.ball.vx*=1.15,t.ball.vy*=1.15,t.ball.color="blue"),t.negateNextBlock=!1,e.collided=!0):"orange"===e.color?(t.negateNextBlock||e.collided?t.negateNextBlock&&(t.ball.color="grey",t.negateSF.currentTime=0,t.negateSF.play()):(t.blockBoostSF.currentTime=0,t.blockBoostSF.play(),t.ball.vx*=.95,t.ball.vy*=1.35,t.ball.color="orange"),t.negateNextBlock=!1,e.collided=!0):"purple"===e.color?(t.negateNextBlock||e.collided?t.negateNextBlock&&(t.ball.color="grey",t.negateSF.currentTime=0,t.negateSF.play()):(t.slowSF.currentTime=0,t.slowSF.play(),t.ball.vx*=.8,t.ball.vy*=.8,t.ball.color="purple"),t.negateNextBlock=!1,e.collided=!0):"pink"===e.color&&(e.collided||(t.negateSF.currentTime=0,t.negateSF.play(),t.negateNextBlock=!0,t.ball.color="pink"),e.collided=!0))})),this.ball.distance>this.highScore&&(this.newRecord=!0,this.ball.newRecord=!0),0==this.ball.scrollSpeed&&(this.animating=!1,this.gamecanvas.removeEventListener("click",this.boost),this.bgMusic.pause(),this.bgMusic.currentTime=0,this.gamectx.beginPath(),this.gamectx.rect(this.gamecanvas.width/2-250,170,500,300),this.gamectx.stroke(),this.gamectx.textAlign="center",this.gamectx.strokeText("GAME OVER",this.gamecanvas.width/2,220),this.gamectx.strokeText("CLICK TO PLAY AGAIN",this.gamecanvas.width/2,260),this.gamectx.textAlign="left",this.newRecord?(this.gamectx.strokeStyle="red",this.gamectx.strokeText("Score/Distance: ".concat(Math.floor(this.ball.distance)," ft  NEW RECORD"),460,330),this.gamectx.strokeStyle="black"):this.gamectx.strokeText("Score/Distance: ".concat(Math.floor(this.ball.distance)," ft"),460,330),this.gamectx.strokeText(this.ball.playTime,460,380),this.gamectx.closePath(),this.gamecanvas.addEventListener("click",this.start),this.newRecord&&(this.highScore=Math.floor(this.ball.distance))),this.animating&&requestAnimationFrame(this.animate)}}])&&u(e.prototype,i),s&&u(e,s),t}();document.addEventListener("DOMContentLoaded",(function(){var t=document.getElementById("bgCanvas"),e=document.getElementById("gameCanvas"),i=new Image;i.src="./src/images/background.png";var s=new Image;s.src="./src/images/boost.png";var a=new g(t,e,i,s),o=document.getElementById("bgm"),n=document.getElementById("mute");n.addEventListener("click",(function(){o.muted?(o.muted=!1,n.textContent="Mute Music"):(o.muted=!0,n.textContent="Unmute Music")})),i.addEventListener("load",a.start)}))}]);
//# sourceMappingURL=main.js.map